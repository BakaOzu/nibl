// Generated by CoffeeScript 1.7.1
(function() {
  'use strict';
  angular.module('niblApp').controller('tasklistCtrl', function($scope, taskService, $modal, timer) {
    $scope.tasks = taskService.getList().$object;
    $scope.interval = 'Все время';
    console.log($scope.sidebarMode);
    $scope.openTaskForm = function(initTask) {
      var modalInstance;
      return modalInstance = $modal.open({
        templateUrl: "static/app/views/partials/task-form.html",
        size: "lg",
        controller: 'taskFormCtrl',
        resolve: {
          initTask: function() {
            return initTask;
          }
        }
      });
    };
    $scope.startPomodoro = function(task) {
      var modalInstance;
      timer.startCountdown(task);
      return modalInstance = $modal.open({
        templateUrl: "static/app/views/partials/pomo-timer.html",
        size: "lg",
        controller: 'pomoTimerCtrl'
      });
    };
    $scope.setCurrentTask = function(task) {
      console.log(task);
      $scope.sidebarMode = 'taskDetail';
      return $scope.currentTask = task;
    };
    $scope.isCurrent = function(task) {
      return task === $scope.currentTask;
    };
    return $scope.setInterval = function(interval) {
      return $scope.interval = interval;
    };
  });

}).call(this);
